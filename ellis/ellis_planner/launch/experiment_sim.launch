<?xml version="1.0"?>
<launch>
  <!-- Load experiment parameters. -->
  <rosparam command="load"
            file="$(find ellis_planner)/config/experiment_sim_scenario_2.yaml" />

  <!-- Record data to ROS bag. -->
  <node pkg="rosbag"
        type="record"
        name="rosbag_recorder"
        args="record -o /tmp/ellis-experiment /tf /tf_static /mob/ellis_planner/vis /mob/ellis_planner/info /mob/choreographer/segment /mob/motion/feedback /exp/control_history" />

  <!-- Run the fake obstacle manager. -->
  <node name="fake_obstacle_manager"
        type="fake_obstacle_manager.py"
        pkg="ellis_planner"
        output="screen" />

  <!-- Run the fake disturbance manager. -->
  <node name="fake_disturbance_manager"
        type="fake_disturbance_manager.py"
        pkg="ellis_planner"
        output="log" />

  <!-- Run the experiment manager. -->
  <node name="experiment_manager"
        type="exp"
        pkg="ellis_planner"
        output="screen" />
</launch>
